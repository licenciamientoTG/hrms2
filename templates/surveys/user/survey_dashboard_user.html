{% extends 'layouts/base.html' %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/survey.css' %}">
{% endblock %}
{% block page_title %}Panel de Encuestas{% endblock %}
{% block title %}Encuestas{% endblock %}

{% block content %}
<div class="surveys-page">
  <div class="surveys-header"><h1>Encuestas</h1></div>

  <div class="surveys-search">
    <span class="icon-search" aria-hidden="true"></span>
    <input id="surveySearchInput" type="text" placeholder="Buscar encuestas" autocomplete="off">
  </div>

  <div class="surveys-tabs" role="tablist" aria-label="Estados de encuestas">
    <button class="tab active" role="tab" aria-selected="true" data-target="available">Disponibles</button>
    <button class="tab" role="tab" aria-selected="false" data-target="completed">Completados</button>
  </div>

  <div class="surveys-lists">
    <ul id="list-available" class="survey-list" data-list="available">
      {% if available %}
        {% for s in available %}
        <li class="survey-item" data-status="available" data-title="{{ s.title|lower }}">
          <a class="row-link" href="{{ s.take_url }}" aria-label="Abrir {{ s.title }}"></a>
          <div class="left">
            <span class="doc-icon" aria-hidden="true"></span>
            <span class="title">{{ s.title }}</span>
          </div>
        </li>
        {% endfor %}
      {% else %}
        <li class="survey-item">
          <div class="left">
            <span class="title" style="font-weight:500;color:#6b7280;">No tienes encuestas disponibles.</span>
          </div>
        </li>
      {% endif %}
    </ul>

    <ul id="list-completed" class="survey-list is-hidden" data-list="completed">
      <li class="survey-item">
        <div class="left">
          <span class="title" style="font-weight:500;color:#6b7280;">AÃºn no has completado encuestas.</span>
        </div>
      </li>
    </ul>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/survey.js' %}"></script>
{% endblock %}
